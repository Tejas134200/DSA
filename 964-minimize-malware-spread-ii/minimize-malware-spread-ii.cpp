class Solution {
public:

    int spread(int block, vector<vector<int>>& graph, vector<int>& initial) {
    int n = graph.size();
    vector<int> vis(n, 0);
    queue<int> q;

    for(int x : initial){
        if(x == block) continue;
        q.push(x);
        vis[x] = 1;
    }

    while(!q.empty()){
        int u = q.front(); q.pop();
        for(int v = 0; v < n; v++){
            if(v == block) continue;
            if(graph[u][v] && !vis[v]){
                vis[v] = 1;
                q.push(v);
            }
        }
    }

    int cnt = 0;
    for(int i = 0; i < n; i++){
        if(vis[i]) cnt++;
    }
    return cnt;
}

    int minMalwareSpread(vector<vector<int>>& graph, vector<int>& initial) {
    int ans = initial[0];
    int best = INT_MAX;

    sort(initial.begin(), initial.end());

    for(int x : initial){
        int infected = spread(x, graph, initial);
        if(infected < best){
            best = infected;
            ans = x;
        }
    }
    return ans;
}

};